<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Yo Scrip</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        h1 {
            text-align: center;
            font-weight: bold;
        }
        form {
            width: 80%;
            margin: 0 auto;
        }
        .submit-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 30px;
            font-size: 18px;
            background-color: #007BFF;
            color: #FFF;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .output {
            display: none;
            margin: 20px 0;
        }
        .code-box {
            display: block;
            width: 100%;
            padding: 12px;
            margin-bottom: 12px;
            font-family: "Courier New", Courier, monospace;
            font-size: 14px;
            line-height: 1.42857143;
            color: #333;
            word-break: break-all;
            word-wrap: break-word;
            background-color: #f5f5f5;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
	    .code-box-container {
    position: relative;
}

.copy-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    padding: 5px 10px;
    font-size: 14px;
    background-color: #007BFF;
    color: #FFF;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    opacity: 0.8;
}

.copy-btn:hover {
    opacity: 1;
}

    </style>
</head>
<body>
    <h1>Get Me Allez</h1>
    <form id="form">
        <h2>Input your details</h2>
        <div>
            <label for="aid">AID:</label>
            <input type="text" id="aid" name="aid" required>
        </div>
        <div>
            <label>Exclude Providers:</label>
            <input type="checkbox" id="all" name="exclude" value="all">
            <label for="all">ALL (Pop only)</label>
            <input type="checkbox" id="booking" name="exclude" value="booking">
            <label for="booking">Booking</label>
            <input type="checkbox" id="expedia" name="exclude" value="expedia">
            <label for="expedia">Expedia</label>
            <input type="checkbox" id="vrbo" name="exclude" value="vrbo">
            <label for="vrbo">VRBO</label>
            <input type="checkbox" id="hotelscom" name="exclude" value="hotelscom">
            <label for="hotelscom">hotelscom</label>
            <input type="checkbox" id="tripadvisor" name="exclude" value="tripadvisor">
            <label for="tripadvisor">TripAdvisor</label>
            <input type="checkbox" id="hotelscombined" name="exclude" value="hotelscombined">
            <label for="hotelscombined">HotelsCombined</label>
            <input type="checkbox" id="none" name="exclude" value="none" checked>
            <label for="none">None</label>
        </div>
        <div>
            <label>Grab existing links from:</label>
            <input type="checkbox" id="none_cb" name="links" value="none" checked>
            <label for="none_cb">None
        <label for="none_cb">None</label>
        <input type="checkbox" id="cj" name="links" value="cj">
        <label for="cj">CJ</label>
        <input type="checkbox" id="travelpayouts" name="links" value="travelpayouts">
        <label for="travelpayouts">TravelPayouts</label>
        <label for="custom">Custom:</label>
        <input type="url" id="custom" name="links" placeholder="https://example.com/" pattern="https?://.+\..+/.+">
    </div>
    <button type="button" class="submit-btn" onclick="generateOutput()">Submit</button>
</form>
	    <!-- This is output box -->
<div class="output" id="output">
    <label>Generated Script:</label>
    <div class="code-box-container">
        <pre class="code-box" id="generatedScript"></pre>
        <button onclick="copyToClipboard()" class="copy-btn">Copy to Clipboard</button>
    </div>
</div>

<script>
    function generateOutput() {
        const aid = document.getElementById("aid").value.trim();
        const excludes = Array.from(document.querySelectorAll("input[name='exclude']:checked")).map(input => input.value);
        const links = Array.from(document.querySelectorAll("input[name='links']:checked")).map(input => input.value);
        const custom = document.getElementById("custom").value.trim();

        let scriptContent = `<script>
(function (s, t, a, y, twenty, two) {
s.Stay22 = s.Stay22 || {};
// Just fill out your configs here
s.Stay22.params = {
  aid: "${aid}",`;

        if (excludes.includes("all")) {
            scriptContent += `
  excludes: ["vrbo","booking","expedia","tripadvisor","hotelscombined","hotelscom"],`;
        } else if (!excludes.includes("none")) {
            const excludeValues = excludes.filter(value => value !== "none").map(value => `"${value}"`).join(",");
            scriptContent += `
  excludes: [${excludeValues}],`;
        }

        if (!links.includes("none") || custom) {
            const linkValues = [];
            if (links.includes("cj")) {
                linkValues.push("fave.co/","anrdoezrs.net/click","kqzyfj.com/click","dpbolvw.net/click","tkqlhce.com/click","jdoqocy.com/click");
            }
            if (links.includes("travelpayouts")) {
                linkValues.push("tp.st/","tp.media/");
            }
            if (custom) {
                linkValues.push(custom);
            }

            scriptContent += `
  deepStruct: [${linkValues.map(value => `"${value}"`).join(",")}],`;
        }

        scriptContent += `
};

// Leave this part as-is;
twenty = t.createElement(a);
two = t.getElementsByTagName(a)[0];
twenty.async = 1;
twenty.src = y;
two.parentNode.insertBefore(twenty, two);
})(window, document, "script", "https://scripts.stay22.com/letmeallez.js");
<\/script>`;
	            const generatedScript = document.getElementById("generatedScript");
        generatedScript.textContent = scriptContent;
        document.getElementById("output").style.display = "block";
    }
	<!-- this is copy to clipboard -->
	function copyToClipboard() {
    const codeBox = document.getElementById("generatedScript");
    const textArea = document.createElement("textarea");
    textArea.value = codeBox.textContent;
    document.body.appendChild(textArea);
    textArea.select();
    document.execCommand("copy");
    document.body.removeChild(textArea);
}

</script>
</body>
</html>
