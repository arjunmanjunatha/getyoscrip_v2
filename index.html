<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Get Yo Scrip</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			font-family: sans-serif;
		}

		h1 {
			text-align: center;
			font-weight: bold;
			font-size: 2em;
			margin: 1em 0;
		}

		h3 {
			font-weight: bold;
			font-size: 1.2em;
			margin: 1.5em 0 0.5em;
		}

		table {
			border-collapse: collapse;
			width: 80%;
			margin: 2em auto;
		}

		td {
			padding: 0.5em;
			border: 1px solid black;
			vertical-align: middle;
		}

		label {
			margin-right: 1em;
		}

		input[type=text], input[type=url] {
			width: 100%;
			padding: 0.5em;
			border-radius: 5px;
			border: 1px solid gray;
			margin-bottom: 1em;
		}

		input[type=checkbox] {
			margin-right: 0.5em;
		}

		.btn {
			display: block;
			margin: 2em auto;
			padding: 0.5em 1em;
			background-color: #4CAF50;
			color: white;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			font-size: 1.2em;
		}

		.code-box {
			width: 80%;
			margin: 2em auto;
			padding: 1em;
			border: 1px solid gray;
			border-radius: 5px;
			font-size: 0.8em;
			white-space: pre-wrap;
		}

		.copy-btn {
			float: right;
			margin-top: -1.8em;
			margin-right: 0.5em;
			padding: 0.5em 1em;
			background-color: #4CAF50;
			color: white;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			font-size: 0.8em;
		}
	</style>
</head>
<body>
    <h2>Input your details</h2>
    
    <form id="script-form">
      
      <!-- First question -->
      <div class="form-group">
        <label for="aid">AID:</label>
        <input type="text" id="aid" name="aid" required>
      </div>
	    
<!-- Second question -->
      <div class="form-group">
        <h3>Exclude Providers</h3>
        <label><input type="checkbox" name="exclude_providers[]" value="all" id="exclude-all" checked>ALL (Pop only)</label><br>
        <label><input type="checkbox" name="exclude_providers[]" value="booking" id="exclude-booking">Booking</label><br>
        <label><input type="checkbox" name="exclude_providers[]" value="expedia" id="exclude-expedia">Expedia</label><br>
        <label><input type="checkbox" name="exclude_providers[]" value="vrbo" id="exclude-vrbo">VRBO</label><br>
        <label><input type="checkbox" name="exclude_providers[]" value="hotelscom" id="exclude-hotelscom">Hotels.com</label><br>
        <label><input type="checkbox" name="exclude_providers[]" value="tripadvisor" id="exclude-tripadvisor">TripAdvisor</label><br>
        <label><input type="checkbox" name="exclude_providers[]" value="hotelscombined" id="exclude-hotelscombined">Hotelscombined</label><br>
        <label><input type="checkbox" name="exclude_providers[]" value="none" id="exclude-none">None</label>
      </div>
      
      <!-- Third question -->
      <div class="form-group">
        <h3>Grab existing links from</h3>
        <label><input type="checkbox" name="grab_links[]" value="none" id="grab-none" checked>None</label><br>
        <label><input type="checkbox" name="grab_links[]" value="cj" id="grab-cj">CJ</label><br>
        <label><input type="checkbox" name="grab_links[]" value="travel_payouts" id="grab-travel-payouts">TravelPayouts</label><br>
        <label><input type="text" name="grab_links[]" id="grab-custom">Custom</label><br>
      </div>
      
      <!-- Submit button -->
      <div class="form-group">
        <button type="submit">Generate script</button>
      </div>
      
    </form>
	
	    <!-- Output code box -->
    <div id="output-box">
      <h3>Generated Script:</h3>
      <code id="output-code"></code>
    </div>
  
  <script>
  function generateScript() {
  // Retrieve input values
  const aidInput = document.getElementById("aid");
  const excludesInputs = document.querySelectorAll('input[name="exclude_providers[]"]:checked');
  const linksInputs = document.querySelectorAll('input[name="grab_links[]"]:checked');
  const customLinkInput = document.getElementById("grab-custom");

  // Parse input values
  const aid = aidInput.value;
  let excludes = [];
  for (const input of excludesInputs) {
    if (input.value !== "all") {
      excludes.push(input.value);
    }
  }
  const links = [];
  for (const input of linksInputs) {
    if (input.value !== "none") {
      links.push(input.value);
    }
  }
  const customLink = customLinkInput.value;

  // Generate script
  let script = `
  <script>
    (function (s, t, a, y, twenty, two) {
      s.Stay22 = s.Stay22 || {};

      // Just fill out your configs here
      s.Stay22.params = {
        aid: "${aid}", // your partner ID for tracking, keep quotes
  `;
  if (excludes.length > 0) {
    script += `
        excludes: ${JSON.stringify(excludes)},
    `;
  }
  if (links.includes("cj")) {
    script += `
        deepStruct: ["fave.co/","anrdoezrs.net/click","kqzyfj.com/click","dpbolvw.net/click","tkqlhce.com/click","jdoqocy.com/click"],
    `;
  }
  if (links.includes("travel_payouts")) {
    script += `
        deepStruct: ["tp.st/","tp.media/"],
    `;
  }
  if (links.includes("cj") && links.includes("travel_payouts")) {
    script += `
        deepStruct: ["fave.co/","anrdoezrs.net/click","kqzyfj.com/click","dpbolvw.net/click","tkqlhce.com/click","jdoqocy.com/click","tp.st/","tp.media/"],
    `;
  }
  if (customLink !== "") {
    script += `
        deepStruct: ["${customLink}"],
    `;
  }
  script += `
      };

      // Leave this part as-is;
      twenty = t.createElement(a);
      two = t.getElementsByTagName(a)[0];
      twenty.async = 1;
      twenty.src = y;
      two.parentNode.insertBefore(twenty, two);
    })(window, document, "script", "https://scripts.stay22.com/letmeallez.js");
  </script>
  `;

  // Display script
  const outputCode = document.getElementById("output-code");
  outputCode.textContent = script;
  const outputBox = document.getElementById("output-box");
  outputBox.style.display = "block";
}

// Listen for form submit
const scriptForm = document.getElementById("script-form");
scriptForm.addEventListener("submit", (event) => {
  event.preventDefault();
  generateScript();
});
</script>
</body>
</html>

